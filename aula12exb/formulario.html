<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idade</title>
    <link rel="stylesheet" href="estilos/style.css">
</head>
<body>
    <header>
        <h1>Verificador de Idade</h1>
    </header>
    <main>
        <form action="cadastro.php" method="get" autocomplete="on">
            <div id="year">
                <label for="ano">Ano de Nascimento:</label>
                <input type="number" name="ano" id="ano" required min="1900" max="2024">
            </div>
            <div id="sex">
                <legend>Sexo:</legend>
                <input type="radio" name="sexo" id="sexMas" value="M">
                <label for="sexMas">Masculino</label>
                <input type="radio" name="sexo" id="sexFem" value="F">
                <label for="sexFem">Feminino</label>
            </div>
            <div id="check">
                <input type="button" value="Verificar">
            </div>
            <div id="reset">
                <input type="reset" value="Limpar">
            </div>
            <div id="result">
                <p>Preencha os dados acima para ver o resultado!</p>
            </div>
        </form>
    </main>
    <footer>
        <p><em>© CursoemVideo</em></p>
    </footer>

    <script>
        var res = document.querySelector('div#result')
        var anoAtual = new Date().getFullYear()
        var checagem = document.querySelector("input[type='button']")
        checagem.addEventListener('click', mostrarResultado)

        function mostrarResultado() {
            var anoNasc = document.querySelector('input#ano').value
            var idade = anoAtual - anoNasc
            var sexMasc = document.getElementById('sexMas')
            var sexFem = document.getElementById('sexFem')

            //Botão "Limpar" vira uma seta pra baixo 
            var botao = document.querySelector("input[type='reset']")
            botao.style.background = "rgb(57, 131, 216)"
            botao.style.color = "white"
            botao.value = "↓"

            if (anoNasc > anoAtual || anoNasc < 1900) {
                window.alert('[ERRO] Verifique os dados e tente novamente!')
            } else if (sexMasc.checked) {
                res.innerHTML = `<p>Detectamos um Homem com ${idade} anos.</p><img src="imagens/Foto_Filipe.jpg" alt="Homem">`
            } else if (sexFem.checked) {
                res.innerHTML = `<p>Detectamos uma Mulher com ${idade} anos.</p><img src="imagens/Danielle-artesa.jpeg" alt="Mulher">`
            } else {
                window.alert('[ERRO] Verifique os dados e tente novamente!')
            }
        }
    </script>
</body>
</html>